@model DashboardViewModel

<div class="card" style="margin-inline:1rem">
    @if (Model.ContestCategory == 10)
    {
<img class="card-img-top" src="@Model.Cover_Url" alt="Card image cap" style="width: 300px; height:400px"> }
else
{
<img class="card-img-top" src="@Model.Cover_Url" alt="Card image cap" style="width: 300px; height:200px">}
    <div class="card-body">
        <h5 class="card-title">@Model.Name</h5>
        <p class="card-text">@Model.Description</p>
        <p>isParticipant: @Model.IsCurrentUserParticipant</p>
        <p>isJury: @Model.IsCurrentUserJury</p>
        @if (Model.ActivePhase.Name == "PhaseI")
        {
                <div>Deadline in <p style="color: blue" id="demo"></p> </div>

                @if (Model.IsCurrentUserParticipant || Model.IsCurrentUserJury)
                {
                    <a asp-action="GetByIdUserSubmission" asp-controller="Dashboard" asp-route-id="@Model.Id" 
                       class="btn btn-primary contestDetail">Review (Bo page)</a> 
                }
                else
                {
                    <button class="btn btn-primary contestDetail">Enroll (Valkata page)AJAX</button>
                }
        }
        else if (Model.ActivePhase.Name == "PhaseII")
        {
            <p>Closed for enrollement</p> 
        }
        else if (Model.ActivePhase.Name == "Finished")
        {
            <p>Finished</p>
             @if (Model.IsCurrentUserParticipant || Model.IsCurrentUserJury)
               {
                    <a asp-action="GetById" asp-controller="Dashboard" asp-route-id="@Model.Id" 
                       class="btn btn-primary contestDetail">Review (Bo page)</a> 
               }
        }
    </div>
</div>


@section Scripts{
    <script>
        var contestDetailModal = $(".contestDetail");

        $(document).ready(function () {
            var start = new Date(@Model.ActivePhase.EndDate.ToString()).getTime();
            var end = new Date(@DateTime.UtcNow.ToString()).getTime();

            setInterval(function () {
                $('demo').val((start - end) / 1000 + " Seconds");
            }, 1000);
        });

        console.log('dasdasd')
    </script>

}
